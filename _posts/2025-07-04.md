---
layout: single
title: "쿼리 조회 결과를 CSV로 다운받기"

categories:
  - java, Oracle


toc: true
toc_sticky: true
 
date: 2025-07-04
last_modified_at: 2025-07-04
---

#### 1. 프로젝트 생성
ojdbc로 쿼리를 조회 하기 위해 ojdbc.jar라이브러리가 필요해서 프로젝트는 간단하게 maven 프로젝트로 생성했다.<br/>
maven 프로젝트를 생성하면 dependency를 정의할수있는 pom.xml파일이 자동으로 만들어지는데 그곳에 아래와같이 ojdbc 의존성을 추가해준다.
```
<dependency>
    <groupId>com.oracle.database.jdbc</groupId>
    <artifactId>ojdbc8</artifactId>
    <version>21.5.0.0</version>
</dependency>
```
저렇게 추가 한 후 프로젝트를 빌드하면 라이브러리 폴더에 ojdbc8.jar 라이브러리가 내려받아진걸 확인할 수 있다.

#### 2. main함수에서 connection 생성 후 쿼리 실행
```

public class ExportToExcel {
// connection 정보 세팅
    private static final String JDBC_URL  = {DB 주소};
    private static final String USER      = {USER};
    private static final String PASSWORD  = {패스워드};
    private static final String OUT_FILE  = {다운받을 파일 root 경로};

    public static void main(String[] args) {
      String query = "select * from table"; // 쿼리 샘플
      Connection conn = DriverManager.getConnection(JDBC_URL, USER, PASSWORD); // connection pool 생성
      Statement stmt = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);
      ResultSet rs = stmt.executeQuery(query) // rs에 쿼리 조회 결과가 담기게 됨

```
